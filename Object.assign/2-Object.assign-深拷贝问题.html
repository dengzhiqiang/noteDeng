<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>1-Object.assign</title>
    <style>
        body {
            background: #000;
            font-size: 18px;
            color: deeppink;
        }
    </style>
</head>
<body>

<script>
    //    针对深拷贝，需要使用其他方法，因为 Object.assign()拷贝的是属性值。假如源对象的属性值是一个指向对象的引用，它也只拷贝那个引用值。
    function test() {
        'use strict';

        var obj1 = {a: 0, b: {c: 0}};
        var obj2 = Object.assign({}, obj1);
        console.log(JSON.stringify(obj2)); // { a: 0, b: { c: 0}}

        obj1.a = 1;
        console.log(JSON.stringify(obj1)); // { a: 1, b: { c: 0}}
        console.log(JSON.stringify(obj2)); // { a: 0, b: { c: 0}}

        obj2.a = 2;
        console.log(JSON.stringify(obj1)); // { a: 1, b: { c: 0}}
        console.log(JSON.stringify(obj2)); // { a: 2, b: { c: 0}}

        obj2.b.c = 3;
        console.log(JSON.stringify(obj1)); // { a: 1, b: { c: 3}}
        console.log(JSON.stringify(obj2)); // { a: 2, b: { c: 3}}

        // Deep Clone
        obj1 = {a: 0, b: {c: 0}};
        var obj3 = JSON.parse(JSON.stringify(obj1));
        obj1.a = 4;
        obj1.b.c = 4;
        console.log(JSON.stringify(obj3)); // { a: 0, b: { c: 0}}
    }

    test();

    // https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
</script>


</body>
</html>